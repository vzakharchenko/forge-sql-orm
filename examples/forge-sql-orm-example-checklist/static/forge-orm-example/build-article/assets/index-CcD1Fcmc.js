import{r as Pt,c as sr}from"./react-dom-vendor-DUDfcWRj.js";import{g as ur,r as cr}from"./lodash-vendor-CHXXAK2W.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var se={exports:{}},B={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Te;function lr(){if(Te)return B;Te=1;var e=Pt(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,r=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,s){var l,f={},h=null,d=null;s!==void 0&&(h=""+s),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(d=c.ref);for(l in c)o.call(c,l)&&!i.hasOwnProperty(l)&&(f[l]=c[l]);if(u&&u.defaultProps)for(l in c=u.defaultProps,c)f[l]===void 0&&(f[l]=c[l]);return{$$typeof:t,type:u,key:h,ref:d,props:f,_owner:r.current}}return B.Fragment=n,B.jsx=a,B.jsxs=a,B}var Be;function fr(){return Be||(Be=1,se.exports=lr()),se.exports}var b=fr(),te=Pt(),ue={},Re=function(e,t){return Re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])},Re(e,t)};function Rt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Re(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var re=function(){return re=Object.assign||function(t){for(var n,o=1,r=arguments.length;o<r;o++){n=arguments[o];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},re.apply(this,arguments)};function jt(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}function It(e,t,n,o){var r=arguments.length,i=r<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,n):o,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,o);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i}function Tt(e,t){return function(n,o){t(n,o,e)}}function Bt(e,t,n,o,r,i){function a(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var u=o.kind,c=u==="getter"?"get":u==="setter"?"set":"value",s=!t&&e?o.static?e:e.prototype:null,l=t||(s?Object.getOwnPropertyDescriptor(s,o.name):{}),f,h=!1,d=n.length-1;d>=0;d--){var v={};for(var _ in o)v[_]=_==="access"?{}:o[_];for(var _ in o.access)v.access[_]=o.access[_];v.addInitializer=function(p){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(p||null))};var y=(0,n[d])(u==="accessor"?{get:l.get,set:l.set}:l[c],v);if(u==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=a(y.get))&&(l.get=f),(f=a(y.set))&&(l.set=f),(f=a(y.init))&&r.unshift(f)}else(f=a(y))&&(u==="field"?r.unshift(f):l[c]=f)}s&&Object.defineProperty(s,o.name,l),h=!0}function Ct(e,t,n){for(var o=arguments.length>2,r=0;r<t.length;r++)n=o?t[r].call(e,n):t[r].call(e);return o?n:void 0}function St(e){return typeof e=="symbol"?e:"".concat(e)}function qt(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function kt(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Mt(e,t,n,o){function r(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function u(l){try{s(o.next(l))}catch(f){a(f)}}function c(l){try{s(o.throw(l))}catch(f){a(f)}}function s(l){l.done?i(l.value):r(l.value).then(u,c)}s((o=o.apply(e,t||[])).next())})}function At(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},o,r,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(s){return function(l){return c([s,l])}}function c(s){if(o)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(n=0)),n;)try{if(o=1,r&&(i=s[0]&2?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,r=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){n.label=s[1];break}if(s[0]===6&&n.label<i[1]){n.label=i[1],i=s;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(s);break}i[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(l){s=[6,l],r=0}finally{o=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}var ie=Object.create?(function(e,t,n,o){o===void 0&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}):(function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]});function Ft(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&ie(t,e,n)}function ne(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var o=n.call(e),r,i=[],a;try{for(;(t===void 0||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(u){a={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}function Lt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ie(arguments[t]));return e}function Nt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var o=Array(e),r=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,r++)o[r]=i[a];return o}function Dt(e,t,n){if(n||arguments.length===2)for(var o=0,r=t.length,i;o<r;o++)(i||!(o in t))&&(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}function T(e){return this instanceof T?(this.v=e,this):new T(e)}function $t(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(d){return function(v){return Promise.resolve(v).then(d,f)}}function u(d,v){o[d]&&(r[d]=function(_){return new Promise(function(y,p){i.push([d,_,y,p])>1||c(d,_)})},v&&(r[d]=v(r[d])))}function c(d,v){try{s(o[d](v))}catch(_){h(i[0][3],_)}}function s(d){d.value instanceof T?Promise.resolve(d.value.v).then(l,f):h(i[0][2],d)}function l(d){c("next",d)}function f(d){c("throw",d)}function h(d,v){d(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Ut(e){var t,n;return t={},o("next"),o("throw",function(r){throw r}),o("return"),t[Symbol.iterator]=function(){return this},t;function o(r,i){t[r]=e[r]?function(a){return(n=!n)?{value:T(e[r](a)),done:!1}:i?i(a):a}:i}}function Gt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ne=="function"?ne(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=e[i]&&function(a){return new Promise(function(u,c){a=e[i](a),r(u,c,a.done,a.value)})}}function r(i,a,u,c){Promise.resolve(c).then(function(s){i({value:s,done:u})},a)}}function Vt(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var dr=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},je=function(e){return je=Object.getOwnPropertyNames||function(t){var n=[];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[n.length]=o);return n},je(e)};function xt(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=je(e),o=0;o<n.length;o++)n[o]!=="default"&&ie(t,e,n[o]);return dr(t,e),t}function Jt(e){return e&&e.__esModule?e:{default:e}}function Ht(e,t,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(e):o?o.value:t.get(e)}function Wt(e,t,n,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n}function Kt(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function zt(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var o,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=t[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=t[Symbol.dispose],n&&(r=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");r&&(o=function(){try{r.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:o,async:n})}else n&&e.stack.push({async:!0});return t}var hr=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var o=new Error(n);return o.name="SuppressedError",o.error=e,o.suppressed=t,o};function Xt(e){function t(i){e.error=e.hasError?new hr(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,o=0;function r(){for(;n=e.stack.pop();)try{if(!n.async&&o===1)return o=0,e.stack.push(n),Promise.resolve().then(r);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(i).then(r,function(a){return t(a),r()})}else o|=1}catch(a){t(a)}if(o===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return r()}function Yt(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,r,i,a){return o?t?".jsx":".js":r&&(!i||!a)?n:r+i+"."+a.toLowerCase()+"js"}):e}const vr={__extends:Rt,__assign:re,__rest:jt,__decorate:It,__param:Tt,__esDecorate:Bt,__runInitializers:Ct,__propKey:St,__setFunctionName:qt,__metadata:kt,__awaiter:Mt,__generator:At,__createBinding:ie,__exportStar:Ft,__values:ne,__read:Ie,__spread:Lt,__spreadArrays:Nt,__spreadArray:Dt,__await:T,__asyncGenerator:$t,__asyncDelegator:Ut,__asyncValues:Gt,__makeTemplateObject:Vt,__importStar:xt,__importDefault:Jt,__classPrivateFieldGet:Ht,__classPrivateFieldSet:Wt,__classPrivateFieldIn:Kt,__addDisposableResource:zt,__disposeResources:Xt,__rewriteRelativeImportExtension:Yt},_r=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:zt,get __assign(){return re},__asyncDelegator:Ut,__asyncGenerator:$t,__asyncValues:Gt,__await:T,__awaiter:Mt,__classPrivateFieldGet:Ht,__classPrivateFieldIn:Kt,__classPrivateFieldSet:Wt,__createBinding:ie,__decorate:It,__disposeResources:Xt,__esDecorate:Bt,__exportStar:Ft,__extends:Rt,__generator:At,__importDefault:Jt,__importStar:xt,__makeTemplateObject:Vt,__metadata:kt,__param:Tt,__propKey:St,__read:Ie,__rest:jt,__rewriteRelativeImportExtension:Yt,__runInitializers:Ct,__setFunctionName:qt,__spread:Lt,__spreadArray:Dt,__spreadArrays:Nt,__values:ne,default:vr},Symbol.toStringTag,{value:"Module"})),R=ur(_r);var C={},Ce;function yr(){return Ce||(Ce=1,Object.defineProperty(C,"__esModule",{value:!0}),C.NavigationTarget=void 0,C.NavigationTarget={ContentView:"contentView",ContentEdit:"contentEdit",ContentList:"contentList",SpaceView:"spaceView",Module:"module",UserProfile:"userProfile",Dashboard:"dashboard",Issue:"issue",ProjectSettingsDetails:"projectSettingsDetails"}),C}var ce={},le={},S={},q={},Se;function w(){if(Se)return q;Se=1,Object.defineProperty(q,"__esModule",{value:!0}),q.BridgeAPIError=void 0;class e extends Error{}return q.BridgeAPIError=e,q}var qe;function g(){if(qe)return S;qe=1,Object.defineProperty(S,"__esModule",{value:!0}),S.getCallBridge=void 0;const e=w();function t(o){return!!o?.callBridge}const n=()=>{if(!t(window.__bridge))throw new e.BridgeAPIError(`
      Unable to establish a connection with the Custom UI bridge.
      If you are trying to run your app locally, Forge apps only work in the context of Atlassian products. Refer to https://go.atlassian.com/forge-tunneling-with-custom-ui for how to tunnel when using a local development server.
    `);return window.__bridge.callBridge};return S.getCallBridge=n,S}var k={},ke;function Zt(){if(ke)return k;ke=1,Object.defineProperty(k,"__esModule",{value:!0}),k.withRateLimiter=void 0;const e=w(),t=(n,o,r,i)=>{let a=Date.now(),u=0;return async(...c)=>{const s=Date.now();if(s-a>r&&(a=s,u=0),u>=o)throw new e.BridgeAPIError(i||"Too many invocations.");return u=u+1,n(...c)}};return k.withRateLimiter=t,k}var Me;function br(){return Me||(Me=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.makeInvoke=e.invoke=void 0;const t=g(),n=w(),o=Zt(),r=(0,t.getCallBridge)(),i=c=>{if(c&&Object.values(c).some(s=>typeof s=="function"))throw new n.BridgeAPIError("Passing functions as part of the payload is not supported!")},a=(c,s)=>{if(typeof c!="string")throw new n.BridgeAPIError("functionKey must be a string!");return i(s),r("invoke",{functionKey:c,payload:s})};e.invoke=(0,o.withRateLimiter)(a,500,1e3*25,"Resolver calls are rate limited at 500req/25s");function u(){return e.invoke}e.makeInvoke=u})(le)),le}var Ae;function gr(){return Ae||(Ae=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),R.__exportStar(br(),e)})(ce)),ce}var fe={},M={},de={},Fe;function Qt(){return Fe||(Fe=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._invokeEndpointFn=e.InvokeType=void 0;const t=g(),n=w(),o=Zt(),r=500,i=25,a=1e3*i;(function(f){f.REMOTE="Remote",f.SERVICE="Container"})(e.InvokeType||(e.InvokeType={}));const u=(0,t.getCallBridge)(),c=f=>{if(f&&Object.values(f).some(h=>typeof h=="function"))throw new n.BridgeAPIError("Passing functions as part of the payload is not supported!")},s=f=>async h=>{c(h);const d={...h,invokeType:`ui-${f.toLowerCase()}-fetch`},v=await u("invoke",d),{success:_,payload:y,error:p}=v??{},m={..._?y:p};if(m&&m.headers)for(const ae in m.headers)Array.isArray(m.headers[ae])&&(m.headers[ae]=m.headers[ae].join(","));return m},l=f=>{const h=s(f);return(0,o.withRateLimiter)(h,r,a,`${f} invocation calls are rate limited at ${r}/${i}s`)};e._invokeEndpointFn=l})(de)),de}var Le;function pr(){if(Le)return M;Le=1,Object.defineProperty(M,"__esModule",{value:!0}),M.invokeRemote=void 0;const e=Qt(),t=n=>(0,e._invokeEndpointFn)(e.InvokeType.REMOTE)(n);return M.invokeRemote=t,M}var A={},Ne;function wr(){if(Ne)return A;Ne=1,Object.defineProperty(A,"__esModule",{value:!0}),A.invokeService=void 0;const e=Qt(),t=n=>(0,e._invokeEndpointFn)(e.InvokeType.SERVICE)(n);return A.invokeService=t,A}var De;function mr(){return De||(De=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=R;t.__exportStar(pr(),e),t.__exportStar(wr(),e)})(fe)),fe}var he={},F={},L={},$e;function Or(){if($e)return L;$e=1,Object.defineProperty(L,"__esModule",{value:!0}),L.submit=void 0;const e=g(),t=w(),n=(0,e.getCallBridge)(),o=async r=>{if(await n("submit",r)===!1)throw new t.BridgeAPIError("this resource's view is not submittable.")};return L.submit=o,L}var N={},Ue;function Er(){if(Ue)return N;Ue=1,Object.defineProperty(N,"__esModule",{value:!0}),N.close=void 0;const e=g(),t=w(),n=(0,e.getCallBridge)(),o=async r=>{try{if(await n("close",r)===!1)throw new t.BridgeAPIError("this resource's view is not closable.")}catch{throw new t.BridgeAPIError("this resource's view is not closable.")}};return N.close=o,N}var D={},Ge;function Pr(){if(Ge)return D;Ge=1,Object.defineProperty(D,"__esModule",{value:!0}),D.open=void 0;const e=g(),t=w(),n=(0,e.getCallBridge)(),o=async()=>{try{if(await n("open")===!1)throw new t.BridgeAPIError("this resource's view is not openable.")}catch{throw new t.BridgeAPIError("this resource's view is not openable.")}};return D.open=o,D}var $={},Ve;function Rr(){if(Ve)return $;Ve=1,Object.defineProperty($,"__esModule",{value:!0}),$.refresh=void 0;const e=g(),t=w(),n=(0,e.getCallBridge)(),o=async r=>{if(await n("refresh",r)===!1)throw new t.BridgeAPIError("this resource's view is not refreshable.")};return $.refresh=o,$}var U={},xe;function jr(){if(xe)return U;xe=1,Object.defineProperty(U,"__esModule",{value:!0}),U.createHistory=void 0;const t=(0,g().getCallBridge)(),n=async()=>{const o=await t("createHistory");return o.listen(r=>{o.location=r}),o};return U.createHistory=n,U}var G={},ve={},O={},Je;function er(){return Je||(Je=1,Object.defineProperty(O,"__esModule",{value:!0}),O.FORGE_SUPPORTED_LOCALE_CODES=O.I18N_BUNDLE_FOLDER_NAME=O.I18N_INFO_FILE_NAME=void 0,O.I18N_INFO_FILE_NAME="i18n-info.json",O.I18N_BUNDLE_FOLDER_NAME="__LOCALES__",O.FORGE_SUPPORTED_LOCALE_CODES=["zh-CN","zh-TW","cs-CZ","da-DK","nl-NL","en-US","en-GB","et-EE","fi-FI","fr-FR","de-DE","hu-HU","is-IS","it-IT","ja-JP","ko-KR","no-NO","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","tr-TR","es-ES","sv-SE"]),O}var j={},He;function Ir(){if(He)return j;He=1,Object.defineProperty(j,"__esModule",{value:!0}),j.TranslationsGetter=j.TranslationGetterError=void 0;const e=(o,r)=>{o.includes(r)||o.push(r)};class t extends Error{constructor(r){super(r),this.name="TranslationGetterError"}}j.TranslationGetterError=t;class n{resourcesAccessor;i18nInfoConfig=null;translationResources=new Map;constructor(r){this.resourcesAccessor=r}async getTranslations(r,i={fallback:!0}){const a=await this.getI18nInfoConfig(),{fallback:u}=i;if(!u){let c;return a.locales.includes(r)&&(c=await this.getTranslationResource(r)),{translations:c??null,locale:r}}for(const c of this.getLocaleLookupOrder(r,a)){const s=await this.getTranslationResource(c);if(s)return{translations:s,locale:c}}return{translations:null,locale:r}}async getTranslationsByLocaleLookupOrder(r){const i=await this.getI18nInfoConfig(),a=this.getLocaleLookupOrder(r,i);return await Promise.all(a.map(async u=>{const c=await this.getTranslationResource(u);return{locale:u,translations:c}}))}reset(){this.i18nInfoConfig=null,this.translationResources.clear()}async getTranslationResource(r){let i=this.translationResources.get(r);if(!i)try{i=await this.resourcesAccessor.getTranslationResource(r),this.translationResources.set(r,i)}catch(a){throw a instanceof t?a:new t(`Failed to get translation resource for locale: ${r}`)}return i}async getI18nInfoConfig(){if(!this.i18nInfoConfig)try{this.i18nInfoConfig=await this.resourcesAccessor.getI18nInfoConfig()}catch(r){throw r instanceof t?r:new t("Failed to get i18n info config")}return this.i18nInfoConfig}getLocaleLookupOrder(r,i){const{locales:a,fallback:u}=i,c=[r],s=u[r];return s&&Array.isArray(s)&&s.length>0&&c.push(...s),e(c,i.fallback.default),c.filter(l=>a.includes(l))}}return j.TranslationsGetter=n,j}var V={},_e={},We;function tr(){return We||(We=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTranslationValueFromContent=e.getTranslationValue=void 0;const n=R.__importDefault(cr()),o=(i,a,u)=>{const c=i[u];return c?(0,e.getTranslationValueFromContent)(c,a):null};e.getTranslationValue=o;const r=(i,a)=>{let u=i[a];if(!u){const c=a.split(".");c.length>1&&(u=(0,n.default)(i,c,null))}return typeof u=="string"?u:null};e.getTranslationValueFromContent=r})(_e)),_e}var Ke;function Tr(){if(Ke)return V;Ke=1,Object.defineProperty(V,"__esModule",{value:!0}),V.Translator=void 0;const e=tr();class t{locale;translationsGetter;localeLookupOrderedTranslations=null;cache=new Map;constructor(o,r){this.locale=o,this.translationsGetter=r}async init(){this.localeLookupOrderedTranslations=await this.translationsGetter.getTranslationsByLocaleLookupOrder(this.locale)}translate(o){if(!this.localeLookupOrderedTranslations)throw new Error("TranslationLookup not initialized");let r=this.cache.get(o);if(r===void 0){for(const{translations:i}of this.localeLookupOrderedTranslations){const a=(0,e.getTranslationValueFromContent)(i,o);if(a!==null){r=a;break}}r=r??null,this.cache.set(o,r)}return r}}return V.Translator=t,V}var x={},ze;function Br(){if(ze)return x;ze=1,Object.defineProperty(x,"__esModule",{value:!0}),x.ensureLocale=void 0;const e=er(),t=new Set(e.FORGE_SUPPORTED_LOCALE_CODES),n={"en-UK":"en-GB","nb-NO":"no-NO"},o=e.FORGE_SUPPORTED_LOCALE_CODES.reduce((i,a)=>{const[u]=a.split("-");return i[u]||(i[u]=a),i},{nb:"no-NO",pt:"pt-PT"}),r=i=>{const a=i.replace("_","-");return t.has(a)?a:o[a]??n[a]??null};return x.ensureLocale=r,x}var ye={},Xe;function Cr(){return Xe||(Xe=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extractI18nPropertiesFromModules=e.extractI18nKeysFromModules=e.getI18nSupportedModuleEntries=void 0;const t=s=>typeof s=="object"&&s!==null&&!Array.isArray(s),n=s=>typeof s?.i18n=="string",o=s=>s.startsWith("connect-"),r=s=>s.startsWith("core:"),i=s=>{const l=new Set,f=(h,d)=>!t(h)||l.has(h)?[]:(l.add(h),Object.entries(h).flatMap(([v,_])=>{const y=[...d,v];return n(_)?[{propertyPath:y,key:_.i18n}]:Array.isArray(_)?_.flatMap(p=>f(p,y)):f(_,y)}));return f(s,[])},a=s=>Object.entries(s).flatMap(([l,f])=>!o(l)&&!r(l)&&f&&Array.isArray(f)&&f.length>0?f.map(h=>[h,l]):[]);e.getI18nSupportedModuleEntries=a;const u=s=>{const l=new Set;for(const f of(0,e.getI18nSupportedModuleEntries)(s)){const h=i(f[0]);for(const{key:d}of h)l.add(d)}return l.size>0?Array.from(l):[]};e.extractI18nKeysFromModules=u;const c=s=>{const l=[];for(const f of(0,e.getI18nSupportedModuleEntries)(s)){const h=i(f[0]);for(const d of h)l.push({moduleName:f[1],...d})}return l};e.extractI18nPropertiesFromModules=c})(ye)),ye}var be={},Ye;function Sr(){return Ye||(Ye=1,Object.defineProperty(be,"__esModule",{value:!0})),be}var Ze;function rr(){return Ze||(Ze=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getI18nSupportedModuleEntries=e.extractI18nPropertiesFromModules=e.extractI18nKeysFromModules=e.getTranslationValue=void 0;const t=R;t.__exportStar(er(),e),t.__exportStar(Ir(),e),t.__exportStar(Tr(),e),t.__exportStar(Br(),e);var n=tr();Object.defineProperty(e,"getTranslationValue",{enumerable:!0,get:function(){return n.getTranslationValue}});var o=Cr();Object.defineProperty(e,"extractI18nKeysFromModules",{enumerable:!0,get:function(){return o.extractI18nKeysFromModules}}),Object.defineProperty(e,"extractI18nPropertiesFromModules",{enumerable:!0,get:function(){return o.extractI18nPropertiesFromModules}}),Object.defineProperty(e,"getI18nSupportedModuleEntries",{enumerable:!0,get:function(){return o.getI18nSupportedModuleEntries}}),t.__exportStar(Sr(),e)})(ve)),ve}var Qe;function qr(){if(Qe)return G;Qe=1,Object.defineProperty(G,"__esModule",{value:!0}),G.getContext=void 0;const e=g(),t=rr(),n=(0,e.getCallBridge)(),o=async()=>{var r;const i=await n("getContext"),a=i?.locale;return a&&(i.locale=(r=(0,t.ensureLocale)(a))!==null&&r!==void 0?r:a),i};return G.getContext=o,G}var J={},et;function kr(){if(et)return J;et=1,Object.defineProperty(J,"__esModule",{value:!0}),J.changeWindowTitle=void 0;const e=g(),t=w(),n=(0,e.getCallBridge)(),o=async r=>{try{await n("changeWindowTitle",r)}catch{throw new t.BridgeAPIError("the window title wasn't changed due to error.")}};return J.changeWindowTitle=o,J}var H={},tt;function Mr(){if(tt)return H;tt=1,Object.defineProperty(H,"__esModule",{value:!0}),H.theme=void 0;const t=(0,g().getCallBridge)();return H.theme={enable:()=>t("enableTheming")},H}var W={},K={},ge={},I={},rt;function nr(){if(rt)return I;rt=1,Object.defineProperty(I,"__esModule",{value:!0}),I.blobToBase64=I.base64ToBlob=void 0;const e=(n,o)=>{if(!n)return null;const r=n.includes(";base64")?n.split(",")[1]:n,i=atob(r),a=new Array(i.length);for(let c=0;c<i.length;c++)a[c]=i.charCodeAt(c);const u=new Uint8Array(a);return new Blob([u],{type:o})};I.base64ToBlob=e;const t=n=>new Promise((o,r)=>{const i=new FileReader;i.onloadend=()=>{o(i.result)},i.onerror=r,i.readAsDataURL(n)});return I.blobToBase64=t,I}var nt;function Ar(){return nt||(nt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.containsSerialisedBlobs=e.containsBlobs=e.deserialiseBlobsInPayload=e.serialiseBlobsInPayload=void 0;const t=nr(),n=s=>{if(typeof s!="object"||s===null||Object.prototype.toString.call(s)!=="[object Object]")return!1;const l=Object.getPrototypeOf(s);if(l===null)return!0;const f=Object.prototype.hasOwnProperty.call(l,"constructor")&&l.constructor;return typeof f=="function"&&f instanceof f&&Function.prototype.call(f)===Function.prototype.call(s)},o=async s=>({data:await(0,t.blobToBase64)(s),type:s.type}),r=s=>(0,t.base64ToBlob)(s.data,s.type),i=async s=>{if(s instanceof Blob)return{...await o(s),__isBlobData:!0};if(Array.isArray(s))return Promise.all(s.map(l=>(0,e.serialiseBlobsInPayload)(l)));if(s&&n(s)){const l=await Promise.all(Object.entries(s).map(async([f,h])=>[f,await(0,e.serialiseBlobsInPayload)(h)]));return Object.fromEntries(l)}return s};e.serialiseBlobsInPayload=i;const a=s=>{if(s&&n(s)&&"__isBlobData"in s){const l=s;return r({data:l.data,type:l.type})}if(Array.isArray(s))return s.map(l=>(0,e.deserialiseBlobsInPayload)(l));if(s&&n(s)){const l={};for(const[f,h]of Object.entries(s))l[f]=(0,e.deserialiseBlobsInPayload)(h);return l}return s};e.deserialiseBlobsInPayload=a;const u=s=>s instanceof Blob?!0:Array.isArray(s)?s.some(l=>(0,e.containsBlobs)(l)):s&&n(s)?Object.values(s).some(l=>(0,e.containsBlobs)(l)):!1;e.containsBlobs=u;const c=s=>s&&n(s)&&"__isBlobData"in s?!0:Array.isArray(s)?s.some(l=>(0,e.containsSerialisedBlobs)(l)):s&&n(s)?Object.values(s).some(l=>(0,e.containsSerialisedBlobs)(l)):!1;e.containsSerialisedBlobs=c})(ge)),ge}var ot;function or(){if(ot)return K;ot=1,Object.defineProperty(K,"__esModule",{value:!0}),K.events=void 0;const e=g(),t=Ar(),n=(0,e.getCallBridge)(),o=async(i,a)=>{let u=a;return(0,t.containsBlobs)(a)&&(u=await(0,t.serialiseBlobsInPayload)(a)),n("emit",{event:i,payload:u})},r=(i,a)=>n("on",{event:i,callback:c=>{let s=c;return(0,t.containsSerialisedBlobs)(c)&&(s=(0,t.deserialiseBlobsInPayload)(c)),a(s)}});return K.events={emit:o,on:r},K}var it;function Fr(){if(it)return W;it=1,Object.defineProperty(W,"__esModule",{value:!0}),W.emitReadyEvent=void 0;const e=or(),t=ir(),n="EXTENSION_READY",o=async()=>{const r=await t.view.getContext();await e.events.emit(n,{localId:r.localId})};return W.emitReadyEvent=o,W}var at;function ir(){if(at)return F;at=1,Object.defineProperty(F,"__esModule",{value:!0}),F.view=void 0;const e=Or(),t=Er(),n=Pr(),o=Rr(),r=jr(),i=qr(),a=kr(),u=Mr(),c=Fr();return F.view={submit:e.submit,close:t.close,open:n.open,refresh:o.refresh,createHistory:r.createHistory,getContext:i.getContext,theme:u.theme,changeWindowTitle:a.changeWindowTitle,emitReadyEvent:c.emitReadyEvent},F}var st;function ar(){return st||(st=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),R.__exportStar(ir(),e)})(he)),he}var pe={},z={},ut;function Lr(){if(ut)return z;ut=1,Object.defineProperty(z,"__esModule",{value:!0}),z.router=void 0;const t=(0,g().getCallBridge)(),n=async a=>{if(!a?.target)throw new Error("target is required for getUrl");const u=await t("getUrl",a);if(!u)throw new Error("Failed to get URL");try{return new URL(u)}catch(c){throw new Error(`Failed to parse URL: ${u} (${c})`)}},o=a=>{if(typeof a=="string")return t("navigate",{url:a,type:"same-tab"});if(!a?.target)throw new Error("target is required for navigation");return t("navigate",{...a,type:"same-tab"})},r=a=>{if(typeof a=="string")return t("navigate",{url:a,type:"new-tab"});if(!a?.target)throw new Error("target is required for navigation");return t("navigate",{...a,type:"new-tab"})},i=async()=>t("reload");return z.router={getUrl:n,navigate:o,open:r,reload:i},z}var ct;function Nr(){return ct||(ct=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),R.__exportStar(Lr(),e)})(pe)),pe}var we={},X={},lt;function Dr(){if(lt)return X;lt=1,Object.defineProperty(X,"__esModule",{value:!0}),X.Modal=void 0;const e=g(),t=w(),n=(0,e.getCallBridge)(),o=()=>{};class r{constructor(a){var u,c;this.resource=a?.resource||null,this.onClose=a?.onClose||o,this.size=a?.size||"medium",this.context=a?.context||{},this.closeOnEscape=(u=a?.closeOnEscape)!==null&&u!==void 0?u:!0,this.closeOnOverlayClick=(c=a?.closeOnOverlayClick)!==null&&c!==void 0?c:!0}async open(){try{if(await n("openModal",{resource:this.resource,onClose:this.onClose,size:this.size,context:this.context,closeOnEscape:this.closeOnEscape,closeOnOverlayClick:this.closeOnOverlayClick})===!1)throw new t.BridgeAPIError("Unable to open modal.")}catch{throw new t.BridgeAPIError("Unable to open modal.")}}}return X.Modal=r,X}var ft;function $r(){return ft||(ft=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),R.__exportStar(Dr(),e)})(we)),we}var E={},Y={},dt;function Ur(){if(dt)return Y;dt=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.productFetchApi=void 0;const e=nr(),t=async r=>{const i={};for(const[a,u]of r.entries())if(a==="file"){const c=u.name,s=u.type;i.file=await(0,e.blobToBase64)(u),i.__fileName=c,i.__fileType=s}else i[a]=u;return JSON.stringify(i)},n=async r=>{const i=r?.body instanceof FormData,a=i?await t(r?.body):r?.body,u=new Request("",{body:a,method:r?.method,headers:r?.headers}),c=Object.fromEntries(u.headers.entries());return{body:u.method!=="GET"?await u.text():null,headers:new Headers(c),isMultipartFormData:i}},o=r=>{const i=async(a,u,c)=>{const{body:s,headers:l,isMultipartFormData:f}=await n(c);l.has("X-Atlassian-Token")||l.set("X-Atlassian-Token","no-check");const h={product:a,restPath:u,fetchRequestInit:{...c,body:s,headers:[...l.entries()]},isMultipartFormData:f},{body:d,headers:v,statusText:_,status:y,isAttachment:p}=await r("fetchProduct",h),m=p?(0,e.base64ToBlob)(d,v["content-type"]):d;return new Response(m||null,{headers:v,status:y,statusText:_})};return{requestConfluence:(a,u)=>i("confluence",a,u),requestJira:(a,u)=>i("jira",a,u),requestBitbucket:(a,u)=>i("bitbucket",a,u)}};return Y.productFetchApi=o,Y}var ht;function Gr(){if(ht)return E;ht=1;var e;Object.defineProperty(E,"__esModule",{value:!0}),E.requestBitbucket=E.requestJira=E.requestConfluence=void 0;const t=g();return e=(0,Ur().productFetchApi)((0,t.getCallBridge)()),E.requestConfluence=e.requestConfluence,E.requestJira=e.requestJira,E.requestBitbucket=e.requestBitbucket,E}var me={},Z={},vt;function Vr(){if(vt)return Z;vt=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.showFlag=void 0;const e=g(),t=w(),n=(0,e.getCallBridge)(),o=r=>{var i;if(!r.id)throw new t.BridgeAPIError('"id" must be defined in flag options');const a=n("showFlag",{...r,type:(i=r.type)!==null&&i!==void 0?i:"info"});return{close:async()=>(await a,n("closeFlag",{id:r.id}))}};return Z.showFlag=o,Z}var _t;function xr(){return _t||(_t=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.showFlag=void 0;var t=Vr();Object.defineProperty(e,"showFlag",{enumerable:!0,get:function(){return t.showFlag}})})(me)),me}var Oe={},yt;function Jr(){return yt||(yt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),R.__exportStar(or(),e)})(Oe)),Oe}var Ee={},Q={},bt;function Hr(){if(bt)return Q;bt=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.realtime=void 0;const t=(0,g().getCallBridge)(),n=(a,u,c)=>t("publishRealtimeChannel",{channelName:a,eventPayload:u,options:c}),o=(a,u,c)=>t("subscribeRealtimeChannel",{channelName:a,onEvent:u,options:c}),r=(a,u,c)=>t("publishRealtimeChannel",{channelName:a,eventPayload:u,options:c,isGlobal:!0}),i=(a,u,c)=>t("subscribeRealtimeChannel",{channelName:a,onEvent:u,options:c,isGlobal:!0});return Q.realtime={publish:n,subscribe:o,publishGlobal:r,subscribeGlobal:i},Q}var Pe={},gt;function Wr(){return gt||(gt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Jira=void 0,(function(t){t.Board="board",t.Issue="issue",t.Project="project"})(e.Jira||(e.Jira={}))})(Pe)),Pe}var pt;function Kr(){return pt||(pt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Jira=e.realtime=void 0;var t=Hr();Object.defineProperty(e,"realtime",{enumerable:!0,get:function(){return t.realtime}});var n=Wr();Object.defineProperty(e,"Jira",{enumerable:!0,get:function(){return n.Jira}})})(Ee)),Ee}var P={},wt;function zr(){if(wt)return P;wt=1,Object.defineProperty(P,"__esModule",{value:!0}),P.createTranslationFunction=P.getTranslations=P.resetTranslationsCache=void 0;const e=rr(),t=ar(),n={getI18nInfoConfig:async()=>{const u=await fetch(`./${e.I18N_BUNDLE_FOLDER_NAME}/${e.I18N_INFO_FILE_NAME}`);if(!u.ok)throw new Error("Failed to get i18n info config: "+u.statusText);return(await u.json()).config},getTranslationResource:async u=>{const c=await fetch(`./${e.I18N_BUNDLE_FOLDER_NAME}/${u}.json`);if(!c.ok)throw new Error(`Failed to get translation resource for locale: ${u}`);return c.json()}},o=new e.TranslationsGetter(n),r=()=>{o.reset()};P.resetTranslationsCache=r;const i=async(u=null,c={fallback:!0})=>{let s=u;return s||(s=(await t.view.getContext()).locale),await o.getTranslations(s,c)};P.getTranslations=i;const a=async(u=null)=>{let c=u;c||(c=(await t.view.getContext()).locale);const s=new e.Translator(c,o);return await s.init(),(l,f)=>{var h,d;return(d=(h=s.translate(l))!==null&&h!==void 0?h:f)!==null&&d!==void 0?d:l}};return P.createTranslationFunction=a,P}var mt;function Xr(){return mt||(mt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.i18n=e.NavigationTarget=void 0;const t=R;var n=yr();Object.defineProperty(e,"NavigationTarget",{enumerable:!0,get:function(){return n.NavigationTarget}}),t.__exportStar(gr(),e),t.__exportStar(mr(),e),t.__exportStar(ar(),e),t.__exportStar(Nr(),e),t.__exportStar($r(),e),t.__exportStar(Gr(),e),t.__exportStar(xr(),e),t.__exportStar(Jr(),e),t.__exportStar(Kr(),e),e.i18n=t.__importStar(zr())})(ue)),ue}var oe=Xr();async function ee(e,t,n){await oe.showFlag({id:`checklist-${Date.now()}`,title:e,type:n,description:t,isAutoDismiss:!0})}function Yr(e){return new Date(e).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})}function Ot(){return b.jsx("div",{className:"loading-overlay",children:b.jsx("div",{className:"loading-spinner"})})}function Zr(){const[e,t]=te.useState({checkList:"[]",issueId:"",updatedAt:new Date,updateDisplayName:"",updateId:""}),[n,o]=te.useState(!0),[r,i]=te.useState(!1);te.useEffect(()=>{a()},[]);const a=async()=>{try{const s=await oe.invoke("getCheckList");t(s)}catch{await ee("Checklist Loading Error","Unable to load the checklist. Please try again later.","error")}finally{o(!1)}},u=async s=>{try{i(!0);const l=await oe.invoke(s?"updateWithOptimisticLocking":"update",e);l.error?l.concurrent?(await ee("Concurrent Modification Detected",`User ${l.data?.updateDisplayName} has modified the checklist before you. Your changes could not be saved.`,"error"),await a()):await ee("Update Failed",l.message||"Unable to update the checklist. Please try again later.","error"):l.data&&(t(l.data),await ee("Update Successful","The checklist has been successfully updated","success"))}catch{await ee("Update Error","An error occurred while updating the checklist. Please try again later.","error")}finally{i(!1)}},c=s=>{const l=[...JSON.parse(e.checkList)];l[s]={...l[s],done:!l[s].done},t({...e,checkList:JSON.stringify(l)})};return n?b.jsx("div",{className:"checklist-container",children:b.jsx(Ot,{})}):b.jsxs("div",{className:"checklist-container",children:[r&&b.jsx(Ot,{}),b.jsxs("div",{className:"checklist-header",children:[b.jsx("h2",{children:"Issue Checklist"}),b.jsxs("div",{className:"last-update",children:["Last updated by ",e.updateDisplayName," on ",Yr(e.updatedAt)]})]}),b.jsx("div",{className:"checklist",children:JSON.parse(e.checkList).map((s,l)=>b.jsxs("div",{className:"checklist-item",children:[b.jsx("input",{type:"checkbox",checked:s.done,onChange:()=>c(l)}),b.jsx("span",{children:s.label})]},l))}),b.jsxs("div",{className:"buttons",children:[b.jsx("button",{onClick:()=>u(!0),children:"Update with Locking"}),b.jsx("button",{onClick:()=>u(!1),children:"Update without Locking"})]})]})}const Qr=document.getElementById("root"),en=sr.createRoot(Qr),Et=()=>{en.render(b.jsx(Zr,{}))};oe.view.theme.enable().then(()=>{Et()}).catch(e=>{console.error(e.message),Et()});

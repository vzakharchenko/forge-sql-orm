var sr=Object.defineProperty;var ar=(e,t,n)=>t in e?sr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var S=(e,t,n)=>ar(e,typeof t!="symbol"?t+"":t,n);import{r as pt,c as cr}from"./react-dom-vendor-CSB7S32g.js";import{g as ur,r as lr}from"./lodash-vendor-rseMP-CI.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var ce={exports:{}},A={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ie;function dr(){if(Ie)return A;Ie=1;var e=pt(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,r=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(c,l,a){var u,d={},_=null,f=null;a!==void 0&&(_=""+a),l.key!==void 0&&(_=""+l.key),l.ref!==void 0&&(f=l.ref);for(u in l)o.call(l,u)&&!i.hasOwnProperty(u)&&(d[u]=l[u]);if(c&&c.defaultProps)for(u in l=c.defaultProps,l)d[u]===void 0&&(d[u]=l[u]);return{$$typeof:t,type:c,key:_,ref:f,props:d,_owner:r.current}}return A.Fragment=n,A.jsx=s,A.jsxs=s,A}var Te;function fr(){return Te||(Te=1,ce.exports=dr()),ce.exports}var h=fr(),E=pt(),ue={},Ee=function(e,t){return Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])},Ee(e,t)};function wt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ee(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ie=function(){return ie=Object.assign||function(t){for(var n,o=1,r=arguments.length;o<r;o++){n=arguments[o];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ie.apply(this,arguments)};function mt(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}function Ot(e,t,n,o){var r=arguments.length,i=r<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,n):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(i=(r<3?s(i):r>3?s(t,n,i):s(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i}function Et(e,t){return function(n,o){t(n,o,e)}}function jt(e,t,n,o,r,i){function s(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var c=o.kind,l=c==="getter"?"get":c==="setter"?"set":"value",a=!t&&e?o.static?e:e.prototype:null,u=t||(a?Object.getOwnPropertyDescriptor(a,o.name):{}),d,_=!1,f=n.length-1;f>=0;f--){var y={};for(var b in o)y[b]=b==="access"?{}:o[b];for(var b in o.access)y.access[b]=o.access[b];y.addInitializer=function(w){if(_)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(w||null))};var g=(0,n[f])(c==="accessor"?{get:u.get,set:u.set}:u[l],y);if(c==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=s(g.get))&&(u.get=d),(d=s(g.set))&&(u.set=d),(d=s(g.init))&&r.unshift(d)}else(d=s(g))&&(c==="field"?r.unshift(d):u[l]=d)}a&&Object.defineProperty(a,o.name,u),_=!0}function Pt(e,t,n){for(var o=arguments.length>2,r=0;r<t.length;r++)n=o?t[r].call(e,n):t[r].call(e);return o?n:void 0}function Rt(e){return typeof e=="symbol"?e:"".concat(e)}function It(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Tt(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function St(e,t,n,o){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function c(u){try{a(o.next(u))}catch(d){s(d)}}function l(u){try{a(o.throw(u))}catch(d){s(d)}}function a(u){u.done?i(u.value):r(u.value).then(c,l)}a((o=o.apply(e,t||[])).next())})}function Bt(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},o,r,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(a){return function(u){return l([a,u])}}function l(a){if(o)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(n=0)),n;)try{if(o=1,r&&(i=a[0]&2?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,r=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1],i=a;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(a);break}i[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(u){a=[6,u],r=0}finally{o=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var ae=Object.create?function(e,t,n,o){o===void 0&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]};function Ct(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&ae(t,e,n)}function se(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pe(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var o=n.call(e),r,i=[],s;try{for(;(t===void 0||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(c){s={error:c}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(s)throw s.error}}return i}function qt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Pe(arguments[t]));return e}function Mt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var o=Array(e),r=0,t=0;t<n;t++)for(var i=arguments[t],s=0,c=i.length;s<c;s++,r++)o[r]=i[s];return o}function At(e,t,n){if(n||arguments.length===2)for(var o=0,r=t.length,i;o<r;o++)(i||!(o in t))&&(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}function M(e){return this instanceof M?(this.v=e,this):new M(e)}function Ft(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(f){return function(y){return Promise.resolve(y).then(f,d)}}function c(f,y){o[f]&&(r[f]=function(b){return new Promise(function(g,w){i.push([f,b,g,w])>1||l(f,b)})},y&&(r[f]=y(r[f])))}function l(f,y){try{a(o[f](y))}catch(b){_(i[0][3],b)}}function a(f){f.value instanceof M?Promise.resolve(f.value.v).then(u,d):_(i[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function _(f,y){f(y),i.shift(),i.length&&l(i[0][0],i[0][1])}}function kt(e){var t,n;return t={},o("next"),o("throw",function(r){throw r}),o("return"),t[Symbol.iterator]=function(){return this},t;function o(r,i){t[r]=e[r]?function(s){return(n=!n)?{value:M(e[r](s)),done:!1}:i?i(s):s}:i}}function Nt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof se=="function"?se(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=e[i]&&function(s){return new Promise(function(c,l){s=e[i](s),r(c,l,s.done,s.value)})}}function r(i,s,c,l){Promise.resolve(l).then(function(a){i({value:a,done:c})},s)}}function Lt(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var _r=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},je=function(e){return je=Object.getOwnPropertyNames||function(t){var n=[];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[n.length]=o);return n},je(e)};function xt(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=je(e),o=0;o<n.length;o++)n[o]!=="default"&&ae(t,e,n[o]);return _r(t,e),t}function $t(e){return e&&e.__esModule?e:{default:e}}function Dt(e,t,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(e):o?o.value:t.get(e)}function Ut(e,t,n,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n}function Gt(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Vt(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var o,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=t[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=t[Symbol.dispose],n&&(r=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");r&&(o=function(){try{r.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:o,async:n})}else n&&e.stack.push({async:!0});return t}var hr=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var o=new Error(n);return o.name="SuppressedError",o.error=e,o.suppressed=t,o};function zt(e){function t(i){e.error=e.hasError?new hr(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,o=0;function r(){for(;n=e.stack.pop();)try{if(!n.async&&o===1)return o=0,e.stack.push(n),Promise.resolve().then(r);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(i).then(r,function(s){return t(s),r()})}else o|=1}catch(s){t(s)}if(o===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return r()}function Ht(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,r,i,s){return o?t?".jsx":".js":r&&(!i||!s)?n:r+i+"."+s.toLowerCase()+"js"}):e}const vr={__extends:wt,__assign:ie,__rest:mt,__decorate:Ot,__param:Et,__esDecorate:jt,__runInitializers:Pt,__propKey:Rt,__setFunctionName:It,__metadata:Tt,__awaiter:St,__generator:Bt,__createBinding:ae,__exportStar:Ct,__values:se,__read:Pe,__spread:qt,__spreadArrays:Mt,__spreadArray:At,__await:M,__asyncGenerator:Ft,__asyncDelegator:kt,__asyncValues:Nt,__makeTemplateObject:Lt,__importStar:xt,__importDefault:$t,__classPrivateFieldGet:Dt,__classPrivateFieldSet:Ut,__classPrivateFieldIn:Gt,__addDisposableResource:Vt,__disposeResources:zt,__rewriteRelativeImportExtension:Ht},yr=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Vt,get __assign(){return ie},__asyncDelegator:kt,__asyncGenerator:Ft,__asyncValues:Nt,__await:M,__awaiter:St,__classPrivateFieldGet:Dt,__classPrivateFieldIn:Gt,__classPrivateFieldSet:Ut,__createBinding:ae,__decorate:Ot,__disposeResources:zt,__esDecorate:jt,__exportStar:Ct,__extends:wt,__generator:Bt,__importDefault:$t,__importStar:xt,__makeTemplateObject:Lt,__metadata:Tt,__param:Et,__propKey:Rt,__read:Pe,__rest:mt,__rewriteRelativeImportExtension:Ht,__runInitializers:Pt,__setFunctionName:It,__spread:qt,__spreadArray:At,__spreadArrays:Mt,__values:se,default:vr},Symbol.toStringTag,{value:"Module"})),T=ur(yr);var F={},Se;function br(){return Se||(Se=1,Object.defineProperty(F,"__esModule",{value:!0}),F.NavigationTarget=void 0,F.NavigationTarget={ContentView:"contentView",ContentEdit:"contentEdit",ContentList:"contentList",SpaceView:"spaceView",Module:"module",UserProfile:"userProfile",Dashboard:"dashboard",Issue:"issue",ProjectSettingsDetails:"projectSettingsDetails"}),F}var le={},k={},N={},L={},Be;function j(){if(Be)return L;Be=1,Object.defineProperty(L,"__esModule",{value:!0}),L.BridgeAPIError=void 0;class e extends Error{}return L.BridgeAPIError=e,L}var Ce;function O(){if(Ce)return N;Ce=1,Object.defineProperty(N,"__esModule",{value:!0}),N.getCallBridge=void 0;const e=j();function t(o){return!!(o!=null&&o.callBridge)}const n=()=>{if(!t(window.__bridge))throw new e.BridgeAPIError(`
      Unable to establish a connection with the Custom UI bridge.
      If you are trying to run your app locally, Forge apps only work in the context of Atlassian products. Refer to https://go.atlassian.com/forge-tunneling-with-custom-ui for how to tunnel when using a local development server.
    `);return window.__bridge.callBridge};return N.getCallBridge=n,N}var x={},qe;function Wt(){if(qe)return x;qe=1,Object.defineProperty(x,"__esModule",{value:!0}),x.withRateLimiter=void 0;const e=j(),t=(n,o,r,i)=>{let s=Date.now(),c=0;return async(...l)=>{const a=Date.now();if(a-s>r&&(s=a,c=0),c>=o)throw new e.BridgeAPIError(i||"Too many invocations.");return c=c+1,n(...l)}};return x.withRateLimiter=t,x}var Me;function gr(){if(Me)return k;Me=1,Object.defineProperty(k,"__esModule",{value:!0}),k.invoke=void 0;const e=O(),t=j(),n=Wt(),o=(0,e.getCallBridge)(),r=s=>{if(s&&Object.values(s).some(c=>typeof c=="function"))throw new t.BridgeAPIError("Passing functions as part of the payload is not supported!")},i=(s,c)=>{if(typeof s!="string")throw new t.BridgeAPIError("functionKey must be a string!");return r(c),o("invoke",{functionKey:s,payload:c})};return k.invoke=(0,n.withRateLimiter)(i,500,1e3*25,"Resolver calls are rate limited at 500req/25s"),k}var Ae;function pr(){return Ae||(Ae=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),T.__exportStar(gr(),e)}(le)),le}var de={},$={},fe={},Fe;function Kt(){return Fe||(Fe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._invokeEndpointFn=e.InvokeType=void 0;const t=O(),n=j(),o=Wt(),r=500,i=25,s=1e3*i;(function(d){d.REMOTE="Remote",d.SERVICE="Container"})(e.InvokeType||(e.InvokeType={}));const c=(0,t.getCallBridge)(),l=d=>{if(d&&Object.values(d).some(_=>typeof _=="function"))throw new n.BridgeAPIError("Passing functions as part of the payload is not supported!")},a=d=>async _=>{l(_);const f={..._,invokeType:`ui-${d.toLowerCase()}-fetch`},y=await c("invoke",f),{success:b,payload:g,error:w}=y??{},m={...b?g:w};if(m&&m.headers)for(const q in m.headers)Array.isArray(m.headers[q])&&(m.headers[q]=m.headers[q].join(","));return m},u=d=>{const _=a(d);return(0,o.withRateLimiter)(_,r,s,`${d} invocation calls are rate limited at ${r}/${i}s`)};e._invokeEndpointFn=u}(fe)),fe}var ke;function wr(){if(ke)return $;ke=1,Object.defineProperty($,"__esModule",{value:!0}),$.invokeRemote=void 0;const e=Kt(),t=n=>(0,e._invokeEndpointFn)(e.InvokeType.REMOTE)(n);return $.invokeRemote=t,$}var D={},Ne;function mr(){if(Ne)return D;Ne=1,Object.defineProperty(D,"__esModule",{value:!0}),D.invokeService=void 0;const e=Kt(),t=n=>(0,e._invokeEndpointFn)(e.InvokeType.SERVICE)(n);return D.invokeService=t,D}var Le;function Or(){return Le||(Le=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=T;t.__exportStar(wr(),e),t.__exportStar(mr(),e)}(de)),de}var _e={},U={},G={},xe;function Er(){if(xe)return G;xe=1,Object.defineProperty(G,"__esModule",{value:!0}),G.submit=void 0;const e=O(),t=j(),n=(0,e.getCallBridge)(),o=async r=>{if(await n("submit",r)===!1)throw new t.BridgeAPIError("this resource's view is not submittable.")};return G.submit=o,G}var V={},$e;function jr(){if($e)return V;$e=1,Object.defineProperty(V,"__esModule",{value:!0}),V.close=void 0;const e=O(),t=j(),n=(0,e.getCallBridge)(),o=async r=>{try{if(await n("close",r)===!1)throw new t.BridgeAPIError("this resource's view is not closable.")}catch{throw new t.BridgeAPIError("this resource's view is not closable.")}};return V.close=o,V}var z={},De;function Pr(){if(De)return z;De=1,Object.defineProperty(z,"__esModule",{value:!0}),z.refresh=void 0;const e=O(),t=j(),n=(0,e.getCallBridge)(),o=async r=>{if(await n("refresh",r)===!1)throw new t.BridgeAPIError("this resource's view is not refreshable.")};return z.refresh=o,z}var H={},Ue;function Rr(){if(Ue)return H;Ue=1,Object.defineProperty(H,"__esModule",{value:!0}),H.createHistory=void 0;const t=(0,O().getCallBridge)(),n=async()=>{const o=await t("createHistory");return o.listen(r=>{o.location=r}),o};return H.createHistory=n,H}var W={},he={},P={},Ge;function Jt(){return Ge||(Ge=1,Object.defineProperty(P,"__esModule",{value:!0}),P.FORGE_SUPPORTED_LOCALE_CODES=P.I18N_BUNDLE_FOLDER_NAME=P.I18N_INFO_FILE_NAME=void 0,P.I18N_INFO_FILE_NAME="i18n-info.json",P.I18N_BUNDLE_FOLDER_NAME="__LOCALES__",P.FORGE_SUPPORTED_LOCALE_CODES=["zh-CN","zh-TW","cs-CZ","da-DK","nl-NL","en-US","en-GB","et-EE","fi-FI","fr-FR","de-DE","hu-HU","is-IS","it-IT","ja-JP","ko-KR","no-NO","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","tr-TR","es-ES","sv-SE"]),P}var B={},Ve;function Ir(){if(Ve)return B;Ve=1,Object.defineProperty(B,"__esModule",{value:!0}),B.TranslationsGetter=B.TranslationGetterError=void 0;const e=(o,r)=>{o.includes(r)||o.push(r)};class t extends Error{constructor(r){super(r),this.name="TranslationGetterError"}}B.TranslationGetterError=t;class n{constructor(r){S(this,"resourcesAccessor");S(this,"i18nInfoConfig",null);S(this,"translationResources",new Map);this.resourcesAccessor=r}async getTranslations(r,i={fallback:!0}){const s=await this.getI18nInfoConfig(),{fallback:c}=i;if(!c){let l;return s.locales.includes(r)&&(l=await this.getTranslationResource(r)),{translations:l??null,locale:r}}for(const l of this.getLocaleLookupOrder(r,s)){const a=await this.getTranslationResource(l);if(a)return{translations:a,locale:l}}return{translations:null,locale:r}}async getTranslationsByLocaleLookupOrder(r){const i=await this.getI18nInfoConfig(),s=this.getLocaleLookupOrder(r,i);return await Promise.all(s.map(async c=>{const l=await this.getTranslationResource(c);return{locale:c,translations:l}}))}reset(){this.i18nInfoConfig=null,this.translationResources.clear()}async getTranslationResource(r){let i=this.translationResources.get(r);if(!i)try{i=await this.resourcesAccessor.getTranslationResource(r),this.translationResources.set(r,i)}catch(s){throw s instanceof t?s:new t(`Failed to get translation resource for locale: ${r}`)}return i}async getI18nInfoConfig(){if(!this.i18nInfoConfig)try{this.i18nInfoConfig=await this.resourcesAccessor.getI18nInfoConfig()}catch(r){throw r instanceof t?r:new t("Failed to get i18n info config")}return this.i18nInfoConfig}getLocaleLookupOrder(r,i){const{locales:s,fallback:c}=i,l=[r],a=c[r];return a&&Array.isArray(a)&&a.length>0&&l.push(...a),e(l,i.fallback.default),l.filter(u=>s.includes(u))}}return B.TranslationsGetter=n,B}var K={},ve={},ze;function Xt(){return ze||(ze=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTranslationValueFromContent=e.getTranslationValue=void 0;const n=T.__importDefault(lr()),o=(i,s,c)=>{const l=i[c];return l?(0,e.getTranslationValueFromContent)(l,s):null};e.getTranslationValue=o;const r=(i,s)=>{let c=i[s];if(!c){const l=s.split(".");l.length>1&&(c=(0,n.default)(i,l,null))}return typeof c=="string"?c:null};e.getTranslationValueFromContent=r}(ve)),ve}var He;function Tr(){if(He)return K;He=1,Object.defineProperty(K,"__esModule",{value:!0}),K.Translator=void 0;const e=Xt();class t{constructor(o,r){S(this,"locale");S(this,"translationsGetter");S(this,"localeLookupOrderedTranslations",null);S(this,"cache",new Map);this.locale=o,this.translationsGetter=r}async init(){this.localeLookupOrderedTranslations=await this.translationsGetter.getTranslationsByLocaleLookupOrder(this.locale)}translate(o){if(!this.localeLookupOrderedTranslations)throw new Error("TranslationLookup not initialized");let r=this.cache.get(o);if(r===void 0){for(const{translations:i}of this.localeLookupOrderedTranslations){const s=(0,e.getTranslationValueFromContent)(i,o);if(s!==null){r=s;break}}r=r??null,this.cache.set(o,r)}return r}}return K.Translator=t,K}var J={},We;function Sr(){if(We)return J;We=1,Object.defineProperty(J,"__esModule",{value:!0}),J.ensureLocale=void 0;const e=Jt(),t=new Set(e.FORGE_SUPPORTED_LOCALE_CODES),n={"en-UK":"en-GB","nb-NO":"no-NO"},o=e.FORGE_SUPPORTED_LOCALE_CODES.reduce((i,s)=>{const[c]=s.split("-");return i[c]||(i[c]=s),i},{nb:"no-NO",pt:"pt-PT"}),r=i=>{const s=i.replace("_","-");return t.has(s)?s:o[s]??n[s]??null};return J.ensureLocale=r,J}var ye={},Ke;function Br(){return Ke||(Ke=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extractI18nPropertiesFromModules=e.extractI18nKeysFromModules=e.getI18nSupportedModuleEntries=void 0;const t=a=>typeof a=="object"&&a!==null&&!Array.isArray(a),n=a=>typeof(a==null?void 0:a.i18n)=="string",o=a=>a.startsWith("connect-"),r=a=>a.startsWith("core:"),i=a=>{const u=new Set,d=(_,f)=>!t(_)||u.has(_)?[]:(u.add(_),Object.entries(_).flatMap(([y,b])=>{const g=[...f,y];return n(b)?[{propertyPath:g,key:b.i18n}]:Array.isArray(b)?b.flatMap(w=>d(w,g)):d(b,g)}));return d(a,[])},s=a=>Object.entries(a).flatMap(([u,d])=>!o(u)&&!r(u)&&d&&Array.isArray(d)&&d.length>0?d.map(_=>[_,u]):[]);e.getI18nSupportedModuleEntries=s;const c=a=>{const u=new Set;for(const d of(0,e.getI18nSupportedModuleEntries)(a)){const _=i(d[0]);for(const{key:f}of _)u.add(f)}return u.size>0?Array.from(u):[]};e.extractI18nKeysFromModules=c;const l=a=>{const u=[];for(const d of(0,e.getI18nSupportedModuleEntries)(a)){const _=i(d[0]);for(const f of _)u.push({moduleName:d[1],...f})}return u};e.extractI18nPropertiesFromModules=l}(ye)),ye}var be={},Je;function Cr(){return Je||(Je=1,Object.defineProperty(be,"__esModule",{value:!0})),be}var Xe;function Yt(){return Xe||(Xe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getI18nSupportedModuleEntries=e.extractI18nPropertiesFromModules=e.extractI18nKeysFromModules=e.getTranslationValue=void 0;const t=T;t.__exportStar(Jt(),e),t.__exportStar(Ir(),e),t.__exportStar(Tr(),e),t.__exportStar(Sr(),e);var n=Xt();Object.defineProperty(e,"getTranslationValue",{enumerable:!0,get:function(){return n.getTranslationValue}});var o=Br();Object.defineProperty(e,"extractI18nKeysFromModules",{enumerable:!0,get:function(){return o.extractI18nKeysFromModules}}),Object.defineProperty(e,"extractI18nPropertiesFromModules",{enumerable:!0,get:function(){return o.extractI18nPropertiesFromModules}}),Object.defineProperty(e,"getI18nSupportedModuleEntries",{enumerable:!0,get:function(){return o.getI18nSupportedModuleEntries}}),t.__exportStar(Cr(),e)}(he)),he}var Ye;function qr(){if(Ye)return W;Ye=1,Object.defineProperty(W,"__esModule",{value:!0}),W.getContext=void 0;const e=O(),t=Yt(),n=(0,e.getCallBridge)(),o=async()=>{var r;const i=await n("getContext"),s=i==null?void 0:i.locale;return s&&(i.locale=(r=(0,t.ensureLocale)(s))!==null&&r!==void 0?r:s),i};return W.getContext=o,W}var X={},Ze;function Mr(){if(Ze)return X;Ze=1,Object.defineProperty(X,"__esModule",{value:!0}),X.changeWindowTitle=void 0;const e=O(),t=j(),n=(0,e.getCallBridge)(),o=async r=>{try{await n("changeWindowTitle",r)}catch{throw new t.BridgeAPIError("the window title wasn't changed due to error.")}};return X.changeWindowTitle=o,X}var Y={},Qe;function Ar(){if(Qe)return Y;Qe=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.theme=void 0;const t=(0,O().getCallBridge)();return Y.theme={enable:()=>t("enableTheming")},Y}var Z={},Q={},ge={},C={},et;function Zt(){if(et)return C;et=1,Object.defineProperty(C,"__esModule",{value:!0}),C.blobToBase64=C.base64ToBlob=void 0;const e=(n,o)=>{if(!n)return null;const r=n.includes(";base64")?n.split(",")[1]:n,i=atob(r),s=new Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);const c=new Uint8Array(s);return new Blob([c],{type:o})};C.base64ToBlob=e;const t=n=>new Promise((o,r)=>{const i=new FileReader;i.onloadend=()=>{o(i.result)},i.onerror=r,i.readAsDataURL(n)});return C.blobToBase64=t,C}var tt;function Fr(){return tt||(tt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.containsSerialisedBlobs=e.containsBlobs=e.deserialiseBlobsInPayload=e.serialiseBlobsInPayload=void 0;const t=Zt(),n=a=>{if(typeof a!="object"||a===null||Object.prototype.toString.call(a)!=="[object Object]")return!1;const u=Object.getPrototypeOf(a);if(u===null)return!0;const d=Object.prototype.hasOwnProperty.call(u,"constructor")&&u.constructor;return typeof d=="function"&&d instanceof d&&Function.prototype.call(d)===Function.prototype.call(a)},o=async a=>({data:await(0,t.blobToBase64)(a),type:a.type}),r=a=>(0,t.base64ToBlob)(a.data,a.type),i=async a=>{if(a instanceof Blob)return{...await o(a),__isBlobData:!0};if(Array.isArray(a))return Promise.all(a.map(u=>(0,e.serialiseBlobsInPayload)(u)));if(a&&n(a)){const u=await Promise.all(Object.entries(a).map(async([d,_])=>[d,await(0,e.serialiseBlobsInPayload)(_)]));return Object.fromEntries(u)}return a};e.serialiseBlobsInPayload=i;const s=a=>{if(a&&n(a)&&"__isBlobData"in a){const u=a;return r({data:u.data,type:u.type})}if(Array.isArray(a))return a.map(u=>(0,e.deserialiseBlobsInPayload)(u));if(a&&n(a)){const u={};for(const[d,_]of Object.entries(a))u[d]=(0,e.deserialiseBlobsInPayload)(_);return u}return a};e.deserialiseBlobsInPayload=s;const c=a=>a instanceof Blob?!0:Array.isArray(a)?a.some(u=>(0,e.containsBlobs)(u)):a&&n(a)?Object.values(a).some(u=>(0,e.containsBlobs)(u)):!1;e.containsBlobs=c;const l=a=>a&&n(a)&&"__isBlobData"in a?!0:Array.isArray(a)?a.some(u=>(0,e.containsSerialisedBlobs)(u)):a&&n(a)?Object.values(a).some(u=>(0,e.containsSerialisedBlobs)(u)):!1;e.containsSerialisedBlobs=l}(ge)),ge}var rt;function Qt(){if(rt)return Q;rt=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.events=void 0;const e=O(),t=Fr(),n=(0,e.getCallBridge)(),o=async(i,s)=>{let c=s;return(0,t.containsBlobs)(s)&&(c=await(0,t.serialiseBlobsInPayload)(s)),n("emit",{event:i,payload:c})},r=(i,s)=>n("on",{event:i,callback:l=>{let a=l;return(0,t.containsSerialisedBlobs)(l)&&(a=(0,t.deserialiseBlobsInPayload)(l)),s(a)}});return Q.events={emit:o,on:r},Q}var nt;function kr(){if(nt)return Z;nt=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.emitReadyEvent=void 0;const e=Qt(),t=er(),n="EXTENSION_READY",o=async()=>{const r=await t.view.getContext();await e.events.emit(n,{localId:r.localId})};return Z.emitReadyEvent=o,Z}var ot;function er(){if(ot)return U;ot=1,Object.defineProperty(U,"__esModule",{value:!0}),U.view=void 0;const e=Er(),t=jr(),n=Pr(),o=Rr(),r=qr(),i=Mr(),s=Ar(),c=kr();return U.view={submit:e.submit,close:t.close,refresh:n.refresh,createHistory:o.createHistory,getContext:r.getContext,theme:s.theme,changeWindowTitle:i.changeWindowTitle,emitReadyEvent:c.emitReadyEvent},U}var it;function tr(){return it||(it=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),T.__exportStar(er(),e)}(_e)),_e}var pe={},ee={},st;function Nr(){if(st)return ee;st=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.router=void 0;const t=(0,O().getCallBridge)(),n=async i=>{if(typeof i=="string")return t("navigate",{url:i,type:"same-tab"});if(!(i!=null&&i.target))throw new Error("target is required for navigation");return t("navigate",{...i,type:"same-tab"})},o=async i=>{if(typeof i=="string")return t("navigate",{url:i,type:"new-tab"});if(!(i!=null&&i.target))throw new Error("target is required for navigation");return t("navigate",{...i,type:"new-tab"})},r=async()=>t("reload");return ee.router={navigate:n,open:o,reload:r},ee}var at;function Lr(){return at||(at=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),T.__exportStar(Nr(),e)}(pe)),pe}var we={},te={},ct;function xr(){if(ct)return te;ct=1,Object.defineProperty(te,"__esModule",{value:!0}),te.Modal=void 0;const e=O(),t=j(),n=(0,e.getCallBridge)(),o=()=>{};class r{constructor(s){var c,l;this.resource=(s==null?void 0:s.resource)||null,this.onClose=(s==null?void 0:s.onClose)||o,this.size=(s==null?void 0:s.size)||"medium",this.context=(s==null?void 0:s.context)||{},this.closeOnEscape=(c=s==null?void 0:s.closeOnEscape)!==null&&c!==void 0?c:!0,this.closeOnOverlayClick=(l=s==null?void 0:s.closeOnOverlayClick)!==null&&l!==void 0?l:!0}async open(){try{if(await n("openModal",{resource:this.resource,onClose:this.onClose,size:this.size,context:this.context,closeOnEscape:this.closeOnEscape,closeOnOverlayClick:this.closeOnOverlayClick})===!1)throw new t.BridgeAPIError("Unable to open modal.")}catch{throw new t.BridgeAPIError("Unable to open modal.")}}}return te.Modal=r,te}var ut;function $r(){return ut||(ut=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),T.__exportStar(xr(),e)}(we)),we}var R={},re={},lt;function Dr(){if(lt)return re;lt=1,Object.defineProperty(re,"__esModule",{value:!0}),re.productFetchApi=void 0;const e=Zt(),t=async r=>{const i={};for(const[s,c]of r.entries())if(s==="file"){const l=c.name,a=c.type;i.file=await(0,e.blobToBase64)(c),i.__fileName=l,i.__fileType=a}else i[s]=c;return JSON.stringify(i)},n=async r=>{const i=(r==null?void 0:r.body)instanceof FormData,s=i?await t(r==null?void 0:r.body):r==null?void 0:r.body,c=new Request("",{body:s,method:r==null?void 0:r.method,headers:r==null?void 0:r.headers}),l=Object.fromEntries(c.headers.entries());return{body:c.method!=="GET"?await c.text():null,headers:new Headers(l),isMultipartFormData:i}},o=r=>{const i=async(s,c,l)=>{const{body:a,headers:u,isMultipartFormData:d}=await n(l);u.has("X-Atlassian-Token")||u.set("X-Atlassian-Token","no-check");const _={product:s,restPath:c,fetchRequestInit:{...l,body:a,headers:[...u.entries()]},isMultipartFormData:d},{body:f,headers:y,statusText:b,status:g,isAttachment:w}=await r("fetchProduct",_),m=w?(0,e.base64ToBlob)(f,y["content-type"]):f;return new Response(m||null,{headers:y,status:g,statusText:b})};return{requestConfluence:(s,c)=>i("confluence",s,c),requestJira:(s,c)=>i("jira",s,c),requestBitbucket:(s,c)=>i("bitbucket",s,c)}};return re.productFetchApi=o,re}var dt;function Ur(){if(dt)return R;dt=1;var e;Object.defineProperty(R,"__esModule",{value:!0}),R.requestBitbucket=R.requestJira=R.requestConfluence=void 0;const t=O();return e=(0,Dr().productFetchApi)((0,t.getCallBridge)()),R.requestConfluence=e.requestConfluence,R.requestJira=e.requestJira,R.requestBitbucket=e.requestBitbucket,R}var me={},ne={},ft;function Gr(){if(ft)return ne;ft=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.showFlag=void 0;const e=O(),t=j(),n=(0,e.getCallBridge)(),o=r=>{var i;if(!r.id)throw new t.BridgeAPIError('"id" must be defined in flag options');const s=n("showFlag",{...r,type:(i=r.type)!==null&&i!==void 0?i:"info"});return{close:async()=>(await s,n("closeFlag",{id:r.id}))}};return ne.showFlag=o,ne}var _t;function Vr(){return _t||(_t=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.showFlag=void 0;var t=Gr();Object.defineProperty(e,"showFlag",{enumerable:!0,get:function(){return t.showFlag}})}(me)),me}var Oe={},ht;function zr(){return ht||(ht=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),T.__exportStar(Qt(),e)}(Oe)),Oe}var I={},vt;function Hr(){if(vt)return I;vt=1,Object.defineProperty(I,"__esModule",{value:!0}),I.createTranslationFunction=I.getTranslations=I.resetTranslationsCache=void 0;const e=Yt(),t=tr(),n={getI18nInfoConfig:async()=>{const c=await fetch(`./${e.I18N_BUNDLE_FOLDER_NAME}/${e.I18N_INFO_FILE_NAME}`);if(!c.ok)throw new Error("Failed to get i18n info config: "+c.statusText);return(await c.json()).config},getTranslationResource:async c=>{const l=await fetch(`./${e.I18N_BUNDLE_FOLDER_NAME}/${c}.json`);if(!l.ok)throw new Error(`Failed to get translation resource for locale: ${c}`);return l.json()}},o=new e.TranslationsGetter(n),r=()=>{o.reset()};I.resetTranslationsCache=r;const i=async(c=null,l={fallback:!0})=>{let a=c;return a||(a=(await t.view.getContext()).locale),await o.getTranslations(a,l)};I.getTranslations=i;const s=async(c=null)=>{let l=c;l||(l=(await t.view.getContext()).locale);const a=new e.Translator(l,o);return await a.init(),(u,d)=>{var _,f;return(f=(_=a.translate(u))!==null&&_!==void 0?_:d)!==null&&f!==void 0?f:u}};return I.createTranslationFunction=s,I}var yt;function Wr(){return yt||(yt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.i18n=e.NavigationTarget=void 0;const t=T;var n=br();Object.defineProperty(e,"NavigationTarget",{enumerable:!0,get:function(){return n.NavigationTarget}}),t.__exportStar(pr(),e),t.__exportStar(Or(),e),t.__exportStar(tr(),e),t.__exportStar(Lr(),e),t.__exportStar($r(),e),t.__exportStar(Ur(),e),t.__exportStar(Vr(),e),t.__exportStar(zr(),e),e.i18n=t.__importStar(Hr())}(ue)),ue}var oe=Wr();const Kr="_container_16ann_1",Jr="_header_16ann_9",Xr="_controls_16ann_20",Yr="_searchSection_16ann_28",Zr="_searchInput_16ann_34",Qr="_orgSelect_16ann_35",en="_input_16ann_36",tn="_select_16ann_37",rn="_addButton_16ann_63",nn="_addForm_16ann_79",on="_submitButton_16ann_88",sn="_spinner_16ann_108",an="_spinnerInner_16ann_113",cn="_tableContainer_16ann_117",un="_table_16ann_117",ln="_stats_16ann_146",dn="_loadingContainer_16ann_155",p={container:Kr,header:Jr,controls:Xr,searchSection:Yr,searchInput:Zr,orgSelect:Qr,input:en,select:tn,addButton:rn,addForm:nn,submitButton:on,spinner:sn,spinnerInner:an,tableContainer:cn,table:un,stats:ln,loadingContainer:dn},bt=()=>h.jsx("div",{className:p.spinner,children:h.jsx("div",{className:p.spinnerInner})});function fn(){const[e,t]=E.useState([]),[n,o]=E.useState([]),[r,i]=E.useState(""),[s,c]=E.useState(null),[l,a]=E.useState(null),[u,d]=E.useState(""),[_,f]=E.useState(null),[y,b]=E.useState(!1),[g,w]=E.useState(!0),[m,q]=E.useState(!1),rr=async()=>{try{const v=await oe.invoke("getUsers",{searchTerm:r||void 0,organizationId:s||void 0});t(v)}catch(v){console.error("Error fetching users:",v)}},nr=async()=>{try{const v=await oe.invoke("getOrganizations");o(v)}catch(v){console.error("Error fetching organizations:",v)}},or=async()=>{try{const v=await oe.invoke("getUserStats");a(v)}catch(v){console.error("Error fetching stats:",v)}},Re=async()=>{w(!0);try{await Promise.all([rr(),nr(),or()])}finally{w(!1)}};E.useEffect(()=>{Re()},[r,s]);const ir=async()=>{if(!(!u||!_)){q(!0);try{await oe.invoke("createUser",{name:u,organizationId:_}),d(""),f(null),b(!1),await Re()}catch(v){console.error("Error adding user:",v)}finally{q(!1)}}};return g?h.jsxs("div",{className:p.loadingContainer,children:[h.jsx(bt,{}),h.jsx("p",{children:"Loading data..."})]}):h.jsxs("div",{className:p.container,children:[h.jsx("header",{className:p.header,children:h.jsx("h1",{children:"OrgTracker"})}),h.jsxs("div",{className:p.controls,children:[h.jsxs("div",{className:p.searchSection,children:[h.jsx("input",{type:"text",placeholder:"ðŸ” Search by name...",value:r,onChange:v=>i(v.target.value),className:p.searchInput}),h.jsxs("select",{value:s||"",onChange:v=>c(v.target.value?Number(v.target.value):null),className:p.orgSelect,children:[h.jsx("option",{value:"",children:"All Organizations"}),n.map(v=>h.jsxs("option",{value:v.id,children:[v.name," (",(l==null?void 0:l.orgBreakdown[v.id])||0,")"]},v.id))]})]}),h.jsx("button",{className:p.addButton,onClick:()=>b(!y),children:y?"Cancel":"+ Add User"})]}),y&&h.jsxs("div",{className:p.addForm,children:[h.jsx("input",{type:"text",placeholder:"User Name",value:u,onChange:v=>d(v.target.value),className:p.input,disabled:m}),h.jsxs("select",{value:_||"",onChange:v=>f(Number(v.target.value)),className:p.select,disabled:m,children:[h.jsx("option",{value:"",children:"Select Organization"}),n.map(v=>h.jsx("option",{value:v.id,children:v.name},v.id))]}),h.jsx("button",{onClick:ir,className:p.submitButton,disabled:!u||!_||m,style:{opacity:!u||!_||m?.5:1,cursor:!u||!_||m?"not-allowed":"pointer"},children:m?h.jsxs(h.Fragment,{children:[h.jsx(bt,{}),h.jsx("span",{style:{marginLeft:"8px"},children:"Adding..."})]}):"Add User"})]}),h.jsx("div",{className:p.tableContainer,children:h.jsxs("table",{className:p.table,children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"ðŸ‘¤ User Name"}),h.jsx("th",{children:"ðŸ¢ Organization"})]})}),h.jsx("tbody",{children:e.map(v=>h.jsxs("tr",{children:[h.jsx("td",{children:v.users.name}),h.jsx("td",{children:v.organization.name})]},v.users.id))})]})}),h.jsx("div",{className:p.stats,children:h.jsxs("p",{children:["Total Users: ",(l==null?void 0:l.totalUsers)||0]})})]})}const _n=document.getElementById("root"),hn=cr.createRoot(_n),gt=()=>{hn.render(h.jsx(fn,{}))};oe.view.theme.enable().then(()=>{gt()}).catch(e=>{console.error(e.message),gt()});
